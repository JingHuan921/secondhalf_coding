Artifact: 
to add 
- path_cached_at 
- embedding id 

ArtifactState: 



ArtifactState: 
    current_artifact: Optional[Artifact] = None
    # conversations: Annotated[List[BaseMessage], add_messages] = Field(default_factory=list)
    conversations: List[BaseMessage] = Field(default_factory=list)
    human_request: Optional[str] = None  # ✅ remove Annotated
    current_agent: Optional[str] = None  # ✅ remove Annotated
    session_id: str = Field(default_factory=lambda: str(uuid4()))
    thread_id: str = Field(default_factory=lambda: str(uuid4()))
    approved_path: Optional[str] = None
    rejected_path: Optional[str] = None
    current_node: Optional[str] = None
    requires_human_request: Optional[bool] = None
    interrupt_data: Optional[Dict[str, Any]] = None
    status: Optional[Literal["approved", "feedback"]] = None
    assistant_response: Optional[str] = None
    human_comment: Optional[str] = None

Description: 
    current_artifact: artifact
    conversations: List[BaseMessage] = Field(default_factory=list)
    human_request: initial project brief / requirement from user
    current_agent: last modified by which agent
    session_id: identify user session (for mongodb database and artifact storage)
    thread_id: langgraph thread identifier (for workflow pauses and resumes, for SQLite checkpointer)
    approved_path: (if approved artifact, which node to flow to next)
    rejected_path: (if rejected artifact, which node to flow to next)
    current_node: (which node is being executed)
    requires_human_request: for HITL see if need human input
    interrupt_data: store data when worfklow is interrupted
    status: human decision on the current artifact (used by feedback_router to determine next step)
    assistant_response: NOT USED
    human_comment: user's feedback when rejecting an artifact

I donid: 
    - current_node
    - assistant_response

Not sure if needed: 
    - interrupt_data **maybe can find a more elegant way to deal with this

Others: 
    - ADD or change name (same functionalities)

For Artifact: 
    ask junyang: 
        - can I move created_by, version to metadata


Ask JY: 
ArtifactState [AgentState]
1. why no reducer function for conversations-- suggest to add and sort by timestamp cos there might be bulk conversations loaded from database
2. Also reducer function for artifacts -- i need to sort by timestamp (not that imp compared to conversation) 
2. note to him (his current code does not save the conversations into MongoDB yet -- only artifacts are saved)
3. current_agent I use Enum for AgentType
4. Note to him: I add error for error message

Artifact: 
1. for id, it's a str with format: artifact type_agent_version 
2. content_nature: no use right?
3. Note to him: version -- I use string cos I need it for versioning (1.0, 1.1)



to-do list: 
1. is the conversations now ok? 
2. for artifacts, we need to change the data type when adding local storage (MongoDB) (also change to current_artifact)
3. add session_id and thread_id later
4. add approved and rejected path later
5. add requires_human_request
    interrupt_data
    status
    assistant_response (NO USE)
    human_comment